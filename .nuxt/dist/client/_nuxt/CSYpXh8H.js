const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CB4d3x5W.js","./Cp8LerWh.js","./entry.CaUNs47P.css","./leaflet.9UJSYqx2.css"])))=>i.map(i=>d[i]);
import{_ as y}from"./D6aNBUoc.js";import{_ as w}from"./BD2Mh6qX.js";import{_ as k,r as L,e as g,y as b,c,o as d,z as M,a as t,j as h,b as p,d as r,t as i}from"./Cp8LerWh.js";import{u as T}from"./CnENRTk-.js";const D={__name:"Carte",props:{location:Object},setup(u){const s=u,o=L(null);return g(async()=>{const a=await b(()=>import("./CB4d3x5W.js").then(e=>e.l),__vite__mapDeps([0,1,2]),import.meta.url);a.Icon.Default.mergeOptions({iconRetinaUrl:"/leaflet/marker-icon-2x.png",iconUrl:"/leaflet/marker-icon.png",shadowUrl:"/leaflet/marker-shadow.png"}),await b(()=>Promise.resolve({}),__vite__mapDeps([3]),import.meta.url);const n=a.map(o.value).setView([s.location.latitude,s.location.longitude],14);a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">Openstreetmap</a>'}).addTo(n),a.marker([s.location.latitude,s.location.longitude]).addTo(n).bindPopup(s.location.adresse)}),(a,n)=>(d(),c("div",{ref_key:"mapRef",ref:o,class:"w-full h-full rounded-xl border"},null,512))}},V=k(D,[["__scopeId","data-v-48d1e083"]]),E={class:"bg-beige-light px-5 lg:px-28 py-10 lg:py-20"},O={class:"flex justify-center"},$={key:0,class:"lg:flex mt-10 gap-5 space-y-4 lg:space-y-0"},j={class:"lg:w-2/5 px-4 py-5 lg:py-10 border-t border-l border-4 border-blue rounded-xl relative"},q={key:0,class:"absolute top-4 right-4 bg-red text-white text-xs px-3 py-1 rounded-full shadow-md font-poppins"},C={class:"font-bold text-black"},I={class:"pb-3 border-b border-black space-y-4"},N={class:"block text-sm"},P={class:"py-3 border-b border-black space-y-4"},R=["innerHTML"],S={class:"text-sm font-poppins text-gray-800"},H=["innerHTML"],U={class:"py-3"},B=["href"],z={class:"w-full border-t border-l border-4 border-blue rounded-xl"},K={__name:"Location",setup(u){const s=T(),o=M(()=>s.location);g(()=>{s.fetchTodayLocation()});function a(n){const e=new Date,[l,v]=n.split(":").map(Number),_=new Date(e.getFullYear(),e.getMonth(),e.getDate(),l,v)-e;if(_<=0)return"0min";const m=Math.floor(_/6e4),f=Math.floor(m/60),x=m%60;return f>0?`${f}h${x.toString().padStart(2,"0")}`:`${x}min`}return(n,e)=>{var l;return d(),c("div",E,[t("div",O,[p(y,{text:"Emplacement"})]),e[3]||(e[3]=t("div",{class:"space-y-4 mt-5"},[t("h2",{class:"text-outline text-3xl lg:text-4xl text-white text-center"},[r(" Où trouver notre "),t("br"),r(" foodtruck aujourd’hui ? ")]),t("p",{class:"text-gray-800 text-center font-poppins lg:w-2/3 mx-auto"},[r(" L’avantage du food-truck, c’est qu’on cherche à être toujours au plus proche de nos clients, et que tout le monde puisse passer à l’attaque de nos frites : on se déplace, en street foood ! "),t("br"),r(" Le reste du temps, l’événementiel nous fait voyager aux quatre coins de la région lyonnaise. ")])],-1)),o.value?(d(),c("div",$,[t("div",j,[(l=o.value)!=null&&l.time_start?(d(),c("div",q,[e[0]||(e[0]=r(" ⏱ Plus que ")),t("span",C,i(a(o.value.time_start)),1),e[1]||(e[1]=r(" à attendre "))])):h("",!0),t("div",I,[p(w,{text:o.value.city,isolateClass:"w-fit text-white border-blue text-base bg-red",class:"w-fit block"},null,8,["text"]),t("span",N,i(o.value.adresse),1)]),t("div",P,[t("div",null,[t("h4",{innerHTML:o.value.text_top_time,class:"text-sm"},null,8,R),t("span",S,i(o.value.time_start.slice(0,5))+" - "+i(o.value.time_end.slice(0,5)),1)]),t("div",null,[e[2]||(e[2]=t("h4",{class:"text-sm"},"Commande",-1)),t("span",{innerHTML:o.value.commande,class:"text-sm font-poppins text-gray-800"},null,8,H)])]),t("div",U,[t("div",null,[t("a",{class:"text-red underline text-sm",href:o.value.link_itinerary}," Itineraire -> ",8,B)])])]),t("div",z,[p(V,{location:o.value},null,8,["location"])])])):h("",!0)])}}};export{K as _};
