import{a2 as u,r as o}from"./Cp8LerWh.js";const f=u("location",()=>{const n=o(null),e=o(null),c=t=>{n.value=t},l=async()=>{try{const t=new Date().toISOString().split("T")[0],a=await(await fetch(`https://api.lafriteattaque.fr/planning-date?date=${t}`)).json();n.value=Array.isArray(a)&&a.length>0?a[0]:null}catch(t){console.error("Erreur lors de la récupération du planning :",t),n.value=null}},i=async()=>{try{const t=new Date().toISOString().split("T")[0],a=await(await fetch(`https://api.lafriteattaque.fr/planning-next-today?date=${t}`)).json();e.value=a&&a.adresse?a:null}catch(t){console.error("Erreur de récupération de l’événement suivant :",t),e.value=null}},r=o(null);return{location:n,nextTodayLocation:e,currentEvent:r,setLocation:c,fetchTodayLocation:l,fetchNextTodayLocation:i,fetchCurrentEvent:async()=>{try{const t=new Date().toISOString().split("T")[0],a=await(await fetch(`https://api.lafriteattaque.fr/planning-now?date=${t}`)).json();r.value=a&&a.adresse?a:null}catch(t){console.error("Erreur récupération event en cours :",t),r.value=null}}}});export{f as u};
